# Defines the conatural numbers of type
#   Î¼ A . 1 + > A
let

co_zero â† ( in ( inL ğŸ™ ) ) ;
co_inf  â† ( fix f . in ( inR f ) ) ;

co_succ â† ( Î» n . in ( inR ( next n ) ) ) ;
# only possible with box+
co_pred â† ( 0 ) ;


co_add  â† ( fix f . Î» n1 . Î» n2 .
    match ( out n1 ) {
        inL x â†’ n2 ;
        inR y â†’ in ( inR ( f âŠ™ y âŠ™ next n2 ) )
    }
) ;

# TODO: not right
co_mul  â† ( fix f . Î» n1 . Î» n2 .
    match ( out n1 ) {
        inL x â†’ co_zero ;
        inR y â†’ co_add ( in ( inR ( f âŠ™ y âŠ™ next n2 ) ) ) n2
    }
) ;

# only possible with box+
co_sub â† ( 0 ) ;


# Conversion
int_to_co  â† ( fix f . Î» n .
    if ( n = 0 ) then co_zero
    else in ( inR ( f âŠ™ next ( n - 1 ) ) )
) ;

# Only for testing, not well typed!
co_to_int â† ( fix f . Î» c . 
    match ( out c ) {
        inL x â†’ 0 ;
        inR y â†’ 1 + prevI ( f âŠ™ y )
    }
) ;

in: builtin
